Формат обмена сообщениями между клиентом и сервером.

1. Запрос на получение всех фильтров и названий товаров:

{
ACTION: GET_FILTERS_AND_PRODUCTS,
}

От сервера в ответ приходит сообщение со списком названий фильтров и товаров:

{
ACTION: GET_FILTERS_AND_PRODUCTS,
STATUS: 200,
CONTENT: {
	FILTER: [список с данными фильтров],
	PRODUCT: [список с данными товаров],
	}
}

Данные фильтра - это json:

{
ID: ID фильтра,
FILTER: название фильтра,
MIN: минимальное значение,
MAX: максимальное значение,
}

Данные товара - это json:

{
ID: ID товара,
PRODUCT: название товара,
}

Сообщение об ошибке имеет формат:

{
ACTION: GET_FILTERS_AND_PRODUCTS,
STATUS: 400,
}

2. Запрос на получение оценок товара по заданному фильтру:

{
ACTION: GET_RATINGS,
CONTENT: {
	FILTER: название фильтра,
	PRODUCT: название товара,
	}
}

Если запрос выполнен без ошибок, то приходит ответ:

{
ACTION: GET_RATINGS,
STATUS: 200,
CONTENT: [
	{
	ID: ID оценки,
	ADDRESS: адрес покупки,
	DATE: дата оценки,
	RATING: оценка,
	},
	...
	]
}

Если произошла ошибка:

{
ACTION: GET_RATINGS,
STATUS: 400,
}

3. Удалить оценку можно запросом:

{
ACTION: DELETE_RATING,
CONTENT: {
	ID: ID удаляемой оценки,
	}
}

Если оценка удалена, приходит ответ:

{
ACTION: DELETE_RATING,
STATUS: 200,
CONTENT: {
	ID: ID удаленной оценки,
	}
}

Если произошла ошибка, приходит ответ:

{
ACTION: DELETE_RATING,
STATUS: 400,
CONTENT: {
	ID: ID удаляемой оценки,
	}
}

4. Добавить новый фильтр можно запросом:

{
ACTION: ADD_FILTER,
CONTENT: {
	FILTER: название нового фильтра,
	MIN: минимальное значение оценки по фильтру,
	MAX: максимальное значение оценки по фильтру,
	}
}

Если сервер успешно добавил фильтр, приходит ответ:

{
ACTION: ADD_FILTER,
STATUS: 200,
CONTENT: {
	ID: ID нового фильтра,
	FILTER: название нового фильтр,
	MIN: минимальное значение оценки по фильтру,
	MAX: максимальное значение оценки по фильтру,
	}
}

Если фильтр не был добавлен, приходит ответ:

{
ACTION: ADD_FILTER,
STATUS: 400,
}

5. Добавить новый товар можно запросом:

{
ACTION: ADD_PRODUCT,
CONTENT: {
	PRODUCT: название нового товара,
	}
}

Если товар был добавлен, приходит ответ:

{
ACTION: ADD_PRODUCT,
STATUS: 200,
CONTENT: {
	ID: ID нового товара,
	PRODUCT: название нового товара,
	},
}

Если товар не был добавлен, приходит ответ:

{
ACTION: ADD_PRODUCT,
STATUS: 400,
}

6. Добавить оценку товара можно запросом:

{
ACTION: ADD_RATING,
CONTENT: {
	PRODUCT: название продукта,
	ADDRESS: адрес покупки товара,
	FILTER: фильтр,
	RATING: оценка,
	DATE: дата оценки,
	}
}

Если оценка добавлена, приходит ответ (все оценки товара по выбранному
фильтру):

{
ACTION: ADD_RATING,
STATUS: 200,
CONTENT: [
	{
	ID: ID оценки,
	ADDRESS: адрес покупки,
	DATE: дата оценки,
	RATING: оценка,
	},
	...
	]
}

Если оценка не была добавлена, приходит ответ:

{
ACTION: ADD_RATING,
STATUS: 400,
}